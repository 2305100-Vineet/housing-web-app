<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>California Housing Prediction System</title>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #4e73df, #1cc88a);
    margin: 0;
    padding: 0;
    text-align: center;
    color: white;
}

.header {
    padding: 15px 0 6px 0;
}

.header h1 {
    margin: 0;
    font-size: 30px;
}

.header p {
    margin-top: 5px;
    font-size: 13px;
    color: #e8f0ff;
}

.container {
    background: #f1f1f1;
    color: black;
    width: 570px;
    margin: 25px auto;
    padding: 22px;
    border-radius: 20px;
    box-shadow: 0px 10px 30px rgba(0,0,0,0.3);
}

.heading-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.clear-link {
    font-size: 13px;
    color: #6c757d;
    cursor: pointer;
    text-decoration: underline;
}

.clear-link:hover {
    color: #dc3545;
}

.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 15px;
}

input {
    padding: 9px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 13px;
    width: 100%;
}

button {
    width: 100%;
    padding: 11px;
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 14px;
    margin-top: 10px;
    cursor: pointer;
}

.sample-btn {
    background-color: #5a6f95;
}

.predict-btn {
    background-color: #4f6bdc;
}

.result-box {
    margin-top: 18px;
    padding: 13px;
    border-radius: 10px;
    background-color: #d8f3dc;
    color: #1b5e20;
}

.footer {
    margin-top: 25px;
    font-size: 18px;
}

@media (max-width: 768px) {
    .container {
        width: 90%;
    }
    .form-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
function fillSample() {
    let toggle = localStorage.getItem("sampleToggle");

    if (!toggle || toggle === "low") {
        document.getElementsByName("MedInc")[0].value = 8.5;
        document.getElementsByName("HouseAge")[0].value = 20;
        document.getElementsByName("AveRooms")[0].value = 7;
        document.getElementsByName("AveBedrms")[0].value = 1;
        document.getElementsByName("Population")[0].value = 1000;
        document.getElementsByName("AveOccup")[0].value = 2;
        document.getElementsByName("Latitude")[0].value = 34;
        document.getElementsByName("Longitude")[0].value = -118;
        localStorage.setItem("sampleToggle", "high");
    } else {
        document.getElementsByName("MedInc")[0].value = 0.8;
        document.getElementsByName("HouseAge")[0].value = 40;
        document.getElementsByName("AveRooms")[0].value = 3;
        document.getElementsByName("AveBedrms")[0].value = 1.5;
        document.getElementsByName("Population")[0].value = 4000;
        document.getElementsByName("AveOccup")[0].value = 4;
        document.getElementsByName("Latitude")[0].value = 38;
        document.getElementsByName("Longitude")[0].value = -121;
        localStorage.setItem("sampleToggle", "low");
    }
}

function clearForm() {
    document.querySelector("form").reset();
}
</script>

</head>
<body>

<div class="header">
    <h1>üè† California Housing Prediction System</h1>
    <p>Based on California Housing Dataset (1990 U.S. Census Data)</p>
</div>

<div class="container">

    <div class="heading-row">
        <h2>Enter Housing Features</h2>
        <span class="clear-link" onclick="clearForm()">Clear</span>
    </div>

    <form action="/" method="post">

        <div class="form-grid">

            <input type="number" step="any" name="MedInc"
            value="{{ inputs[0] if inputs else '' }}"
            placeholder="Median Income" required>

            <input type="number" step="any" name="HouseAge"
            value="{{ inputs[1] if inputs else '' }}"
            placeholder="House Age" required>

            <input type="number" step="any" name="AveRooms"
            value="{{ inputs[2] if inputs else '' }}"
            placeholder="Average Rooms" required>

            <input type="number" step="any" name="AveBedrms"
            value="{{ inputs[3] if inputs else '' }}"
            placeholder="Average Bedrooms" required>

            <input type="number" step="any" name="Population"
            value="{{ inputs[4] if inputs else '' }}"
            placeholder="Population" required>

            <input type="number" step="any" name="AveOccup"
            value="{{ inputs[5] if inputs else '' }}"
            placeholder="Average Occupancy" required>

            <input type="number" step="any" name="Latitude"
            value="{{ inputs[6] if inputs else '' }}"
            placeholder="Latitude" required>

            <input type="number" step="any" name="Longitude"
            value="{{ inputs[7] if inputs else '' }}"
            placeholder="Longitude" required>

        </div>

        <button type="button" class="sample-btn" onclick="fillSample()">‚ú® Fill Sample Values</button>
        <button type="submit" class="predict-btn">üîç Predict Housing Category</button>

    </form>

    {% if market_value %}
    <div class="result-box">
        <strong>Estimated Market Value:</strong> ${{ market_value }}<br><br>
        <strong>Predicted Category:</strong> {{ tier }}
    </div>
    {% endif %}

</div>

<div class="footer">
    Developed by <strong>Vineet Kumar Jha</strong> |
    <a href="https://github.com/2305100-Vineet/housing-web-app" target="_blank">
        <strong>View GitHub Profile</strong>
    </a>
</div>

</body>
</html>
